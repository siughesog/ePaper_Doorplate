<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ePaper é›»å­ç´™é–€ç‰Œç³»çµ± - å°ˆæ¡ˆè©³ç´°å ±å‘Š</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft JhengHei', 'å¾®è»Ÿæ­£é»‘é«”', Arial, sans-serif;
            line-height: 1.8;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 60px 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 3em;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.3em;
            opacity: 0.95;
        }

        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 50px;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 15px;
            border-left: 5px solid #667eea;
        }

        .section h2 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }

        .section h3 {
            color: #764ba2;
            font-size: 1.5em;
            margin-top: 25px;
            margin-bottom: 15px;
        }

        .section h4 {
            color: #555;
            font-size: 1.2em;
            margin-top: 20px;
            margin-bottom: 10px;
        }

        .tech-stack {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .tech-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            border-top: 4px solid #667eea;
            transition: transform 0.3s;
        }

        .tech-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        .tech-card h4 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .tech-card ul {
            list-style: none;
            padding-left: 0;
        }

        .tech-card li {
            padding: 5px 0;
            padding-left: 20px;
            position: relative;
        }

        .tech-card li:before {
            content: "â–¸";
            position: absolute;
            left: 0;
            color: #764ba2;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: bold;
        }

        tr:hover {
            background: #f5f5f5;
        }

        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 10px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
            line-height: 1.6;
        }

        .code-block code {
            color: #f8f8f2;
        }

        .highlight {
            background: #fff3cd;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: bold;
        }

        .warning {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }

        .success {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }

        .info {
            background: #d1ecf1;
            border-left: 4px solid #17a2b8;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }

        .mermaid {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .feature-card {
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            border-top: 4px solid #764ba2;
        }

        .feature-card h4 {
            color: #764ba2;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: bold;
            margin: 5px 5px 5px 0;
        }

        .badge-primary {
            background: #667eea;
            color: white;
        }

        .badge-success {
            background: #28a745;
            color: white;
        }

        .badge-warning {
            background: #ffc107;
            color: #333;
        }

        .badge-info {
            background: #17a2b8;
            color: white;
        }

        .timeline {
            position: relative;
            padding-left: 40px;
            margin: 30px 0;
        }

        .timeline:before {
            content: '';
            position: absolute;
            left: 15px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #667eea;
        }

        .timeline-item {
            position: relative;
            margin-bottom: 30px;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .timeline-item:before {
            content: '';
            position: absolute;
            left: -32px;
            top: 25px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #764ba2;
            border: 3px solid white;
            box-shadow: 0 0 0 2px #667eea;
        }

        .footer {
            background: #2d2d2d;
            color: white;
            padding: 30px;
            text-align: center;
        }

        @media print {
            body {
                background: white;
            }
            .container {
                box-shadow: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“± ePaper é›»å­ç´™é–€ç‰Œç³»çµ±</h1>
            <p>å°ˆæ¡ˆè©³ç´°æŠ€è¡“å ±å‘Šèˆ‡éƒ¨ç½²æŒ‡å—</p>
            <p style="font-size: 1em; margin-top: 10px; opacity: 0.9;">ç‰ˆæœ¬ 1.0.0 | 2024å¹´åº¦å°ˆæ¡ˆ</p>
        </div>

        <div class="content">
            <!-- å°ˆæ¡ˆæ¦‚è¿° -->
            <div class="section">
                <h2>ğŸ“‹ å°ˆæ¡ˆæ¦‚è¿°</h2>
                <p style="font-size: 1.1em; margin-bottom: 20px;">
                    <strong>ePaper é›»å­ç´™é–€ç‰Œç³»çµ±</strong>æ˜¯ä¸€å€‹å‰µæ–°çš„ç‰©è¯ç¶²ï¼ˆIoTï¼‰è§£æ±ºæ–¹æ¡ˆï¼Œçµåˆäº†ç¾ä»£WebæŠ€è¡“èˆ‡ç¡¬é«”è¨­å‚™ï¼Œ
                    å¯¦ç¾äº†æ™ºèƒ½åŒ–çš„é–€ç‰Œé¡¯ç¤ºç³»çµ±ã€‚æœ¬ç³»çµ±å…è¨±ç”¨æˆ¶é€šéWebä»‹é¢è¨­è¨ˆå’Œæ›´æ–°é–€ç‰Œå…§å®¹ï¼Œä¸¦é€šéESP32å¾®æ§åˆ¶å™¨
                    å°‡å…§å®¹é¡¯ç¤ºåœ¨é›»å­ç´™ï¼ˆePaperï¼‰é¡¯ç¤ºå™¨ä¸Šã€‚
                </p>
                
                <div class="info">
                    <strong>ğŸ’¡ æ ¸å¿ƒåƒ¹å€¼ï¼š</strong>
                    <ul style="margin-top: 10px; margin-left: 20px;">
                        <li>ç¯€èƒ½ç’°ä¿ï¼šé›»å­ç´™åƒ…åœ¨æ›´æ–°æ™‚è€—é›»ï¼Œé¡¯ç¤ºæ™‚é›¶åŠŸè€—</li>
                        <li>é ç¨‹ç®¡ç†ï¼šé€šéWebä»‹é¢éš¨æ™‚æ›´æ–°é–€ç‰Œå…§å®¹</li>
                        <li>éˆæ´»è¨­è¨ˆï¼šæ”¯æ´æ–‡å­—ã€åœ–ç‰‡ã€å‹•æ…‹å…ƒç´ çš„è‡ªå®šç¾©ä½ˆå±€</li>
                        <li>å¤šè¨­å‚™ç®¡ç†ï¼šä¸€å€‹å¸³è™Ÿå¯ç®¡ç†å¤šå€‹é–€ç‰Œè¨­å‚™</li>
                    </ul>
                </div>
            </div>

            <!-- ç³»çµ±æ¶æ§‹ -->
            <div class="section">
                <h2>ğŸ—ï¸ ç³»çµ±æ¶æ§‹</h2>
                
                <div class="mermaid">
                    graph TB
                        subgraph "å‰ç«¯å±¤ Frontend"
                            A[React Webæ‡‰ç”¨<br/>Verceléƒ¨ç½²]
                            B[ç”¨æˆ¶ä»‹é¢<br/>Template Editor]
                            C[è¨­å‚™ç®¡ç†<br/>Device Manager]
                            D[åœ–ç‰‡ç®¡ç†<br/>Image Manager]
                        end
                        
                        subgraph "å¾Œç«¯å±¤ Backend"
                            E[Spring Boot API<br/>Railwayéƒ¨ç½²]
                            F[èªè­‰æœå‹™<br/>JWT]
                            G[è¨­å‚™æœå‹™<br/>Device Service]
                            H[æ¸²æŸ“æœå‹™<br/>Python Script]
                            I[å­˜å„²æœå‹™<br/>S3/Local]
                        end
                        
                        subgraph "è³‡æ–™å±¤ Data Layer"
                            J[(MongoDB Atlas<br/>é›²ç«¯è³‡æ–™åº«)]
                            K[AWS S3<br/>åœ–ç‰‡å­˜å„²]
                        end
                        
                        subgraph "ç¡¬é«”å±¤ Hardware"
                            L[ESP32<br/>å¾®æ§åˆ¶å™¨]
                            M[é›»å­ç´™é¡¯ç¤ºå™¨<br/>800x480]
                            N[WiFié€£æ¥]
                        end
                        
                        A --> E
                        B --> E
                        C --> E
                        D --> E
                        E --> F
                        E --> G
                        E --> H
                        E --> I
                        E --> J
                        I --> K
                        L --> E
                        L --> M
                        N --> L
                </div>

                <h3>æ¶æ§‹èªªæ˜</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>ğŸŒ å‰ç«¯å±¤</h4>
                        <p>ä½¿ç”¨ <strong>React 19</strong> æ§‹å»ºçš„ç¾ä»£åŒ–Webæ‡‰ç”¨ï¼Œæä¾›ç›´è§€çš„ç”¨æˆ¶ä»‹é¢ç”¨æ–¼è¨­è¨ˆé–€ç‰Œæ¨¡æ¿ã€ç®¡ç†è¨­å‚™å’Œä¸Šå‚³åœ–ç‰‡ã€‚</p>
                        <span class="badge badge-primary">React</span>
                        <span class="badge badge-primary">Tailwind CSS</span>
                        <span class="badge badge-primary">Vercel</span>
                    </div>
                    <div class="feature-card">
                        <h4>âš™ï¸ å¾Œç«¯å±¤</h4>
                        <p>åŸºæ–¼ <strong>Spring Boot 3.4</strong> çš„RESTful APIæœå‹™ï¼Œè™•ç†æ¥­å‹™é‚è¼¯ã€èªè­‰æˆæ¬Šã€è¨­å‚™ç®¡ç†å’Œå…§å®¹æ¸²æŸ“ã€‚</p>
                        <span class="badge badge-success">Spring Boot</span>
                        <span class="badge badge-success">Java 21</span>
                        <span class="badge badge-success">Python</span>
                    </div>
                    <div class="feature-card">
                        <h4>ğŸ’¾ è³‡æ–™å±¤</h4>
                        <p>ä½¿ç”¨ <strong>MongoDB Atlas</strong> å­˜å„²ç”¨æˆ¶ã€è¨­å‚™ã€æ¨¡æ¿ç­‰çµæ§‹åŒ–è³‡æ–™ï¼Œ<strong>AWS S3</strong> å­˜å„²åœ–ç‰‡è³‡æºã€‚</p>
                        <span class="badge badge-info">MongoDB</span>
                        <span class="badge badge-info">AWS S3</span>
                    </div>
                    <div class="feature-card">
                        <h4>ğŸ”Œ ç¡¬é«”å±¤</h4>
                        <p><strong>ESP32</strong> å¾®æ§åˆ¶å™¨é€šéWiFié€£æ¥å¾Œç«¯APIï¼Œå®šæœŸæŸ¥è©¢æ›´æ–°ä¸¦å°‡å…§å®¹é¡¯ç¤ºåœ¨é›»å­ç´™é¡¯ç¤ºå™¨ä¸Šã€‚</p>
                        <span class="badge badge-warning">ESP32</span>
                        <span class="badge badge-warning">ePaper</span>
                    </div>
                </div>
            </div>

            <!-- æŠ€è¡“æ£§ -->
            <div class="section">
                <h2>ğŸ› ï¸ æŠ€è¡“æ£§è©³æƒ…</h2>
                
                <div class="tech-stack">
                    <div class="tech-card">
                        <h4>å‰ç«¯æŠ€è¡“</h4>
                        <ul>
                            <li>React 19.1.0</li>
                            <li>React Router 7.6.0</li>
                            <li>Tailwind CSS 3.4.17</li>
                            <li>Lucide React Icons</li>
                            <li>Fetch API</li>
                        </ul>
                    </div>
                    
                    <div class="tech-card">
                        <h4>å¾Œç«¯æŠ€è¡“</h4>
                        <ul>
                            <li>Spring Boot 3.4.0</li>
                            <li>Java 21</li>
                            <li>Spring Security</li>
                            <li>Spring Data MongoDB</li>
                            <li>JWT (jjwt 0.12.3)</li>
                            <li>Lombok</li>
                        </ul>
                    </div>
                    
                    <div class="tech-card">
                        <h4>è³‡æ–™åº«èˆ‡å­˜å„²</h4>
                        <ul>
                            <li>MongoDB Atlas</li>
                            <li>AWS S3 SDK 2.20.26</li>
                            <li>æœ¬åœ°æ–‡ä»¶ç³»çµ±</li>
                        </ul>
                    </div>
                    
                    <div class="tech-card">
                        <h4>æ¸²æŸ“èˆ‡è™•ç†</h4>
                        <ul>
                            <li>Python 3.x</li>
                            <li>Pillow (PIL)</li>
                            <li>è‡ªå®šç¾©æ¸²æŸ“è…³æœ¬</li>
                        </ul>
                    </div>
                    
                    <div class="tech-card">
                        <h4>ç¡¬é«”é–‹ç™¼</h4>
                        <ul>
                            <li>Arduino IDE</li>
                            <li>ESP32 é–‹ç™¼æ¡†æ¶</li>
                            <li>GxEPD2 åº«</li>
                            <li>WiFiClientSecure</li>
                        </ul>
                    </div>
                    
                    <div class="tech-card">
                        <h4>éƒ¨ç½²å¹³å°</h4>
                        <ul>
                            <li>Railway (å¾Œç«¯)</li>
                            <li>Vercel (å‰ç«¯)</li>
                            <li>MongoDB Atlas</li>
                            <li>AWS S3</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- æ ¸å¿ƒåŠŸèƒ½æ¨¡çµ„ -->
            <div class="section">
                <h2>âš¡ æ ¸å¿ƒåŠŸèƒ½æ¨¡çµ„</h2>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>ğŸ” ç”¨æˆ¶èªè­‰ç³»çµ±</h4>
                        <p>åŸºæ–¼JWTçš„ç„¡ç‹€æ…‹èªè­‰æ©Ÿåˆ¶ï¼Œæ”¯æ´ç”¨æˆ¶è¨»å†Šã€ç™»å…¥ã€Tokené©—è­‰å’Œè‡ªå‹•éæœŸè™•ç†ã€‚</p>
                        <div class="code-block">
<code>POST /api/auth/register
POST /api/auth/login
GET  /api/auth/validate</code>
                        </div>
                    </div>
                    
                    <div class="feature-card">
                        <h4>ğŸ“± è¨­å‚™ç®¡ç†</h4>
                        <p>å®Œæ•´çš„è¨­å‚™ç”Ÿå‘½é€±æœŸç®¡ç†ï¼ŒåŒ…æ‹¬è¨­å‚™è¨»å†Šã€æ¿€æ´»ç¢¼ç”Ÿæˆã€ç¶å®šã€ç‹€æ…‹æŸ¥è©¢å’Œæ›´æ–°æ§åˆ¶ã€‚</p>
                        <div class="code-block">
<code>POST /device/register
GET  /device/status
POST /device/activate</code>
                        </div>
                    </div>
                    
                    <div class="feature-card">
                        <h4>ğŸ¨ æ¨¡æ¿ç·¨è¼¯å™¨</h4>
                        <p>å¼·å¤§çš„å¯è¦–åŒ–æ¨¡æ¿è¨­è¨ˆå·¥å…·ï¼Œæ”¯æ´æ‹–æ‹½ä½ˆå±€ã€æ–‡å­—æ¨£å¼ã€åœ–ç‰‡æ’å…¥ã€å‹•æ…‹å…ƒç´ é…ç½®ã€‚</p>
                        <ul style="margin-top: 10px;">
                            <li>å¤šå…ƒç´ é¡å‹æ”¯æ´</li>
                            <li>å¯¦æ™‚é è¦½</li>
                            <li>æ¨¡æ¿ä¿å­˜èˆ‡è¼‰å…¥</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card">
                        <h4>ğŸ–¼ï¸ åœ–ç‰‡ç®¡ç†</h4>
                        <p>åœ–ç‰‡ä¸Šå‚³ã€è™•ç†ã€åº«ç®¡ç†å’ŒURLä»£ç†æœå‹™ï¼Œæ”¯æ´æœ¬åœ°å­˜å„²å’ŒS3é›²ç«¯å­˜å„²ã€‚</p>
                        <div class="code-block">
<code>POST /api/images/upload
GET  /api/images/{id}
GET  /api/images/proxy</code>
                        </div>
                    </div>
                    
                    <div class="feature-card">
                        <h4>ğŸ”„ å…§å®¹æ¸²æŸ“</h4>
                        <p>Pythonè…³æœ¬å°‡æ¨¡æ¿å…ƒç´ æ¸²æŸ“ç‚ºBMPåœ–åƒï¼Œä¸¦è½‰æ›ç‚ºé›»å­ç´™é¡¯ç¤ºå™¨å°ˆç”¨çš„BINæ ¼å¼ã€‚</p>
                        <ul style="margin-top: 10px;">
                            <li>JSONé…ç½®è¼¸å…¥</li>
                            <li>800x480åƒç´ è¼¸å‡º</li>
                            <li>BINæ ¼å¼è½‰æ›</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card">
                        <h4>ğŸ“š è³‡æºåº«ç®¡ç†</h4>
                        <p>æ–‡å­—åº«å’Œåœ–ç‰‡åº«åŠŸèƒ½ï¼Œå…è¨±ç”¨æˆ¶ä¿å­˜å¸¸ç”¨æ–‡å­—å’Œåœ–ç‰‡ï¼Œå¿«é€Ÿé‡ç”¨æ–¼æ¨¡æ¿è¨­è¨ˆã€‚</p>
                        <div class="code-block">
<code>GET  /textLibrary/list
POST /textLibrary/save
GET  /api/image-library</code>
                        </div>
                    </div>
                </div>
            </div>

            <!-- APIç«¯é» -->
            <div class="section">
                <h2>ğŸ”Œ APIç«¯é»ç¸½è¦½</h2>
                
                <h3>èªè­‰ç›¸é—œ</h3>
                <table>
                    <thead>
                        <tr>
                            <th>æ–¹æ³•</th>
                            <th>ç«¯é»</th>
                            <th>èªªæ˜</th>
                            <th>èªè­‰</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>POST</td>
                            <td><code>/api/auth/register</code></td>
                            <td>ç”¨æˆ¶è¨»å†Š</td>
                            <td>âŒ</td>
                        </tr>
                        <tr>
                            <td>POST</td>
                            <td><code>/api/auth/login</code></td>
                            <td>ç”¨æˆ¶ç™»å…¥</td>
                            <td>âŒ</td>
                        </tr>
                        <tr>
                            <td>GET</td>
                            <td><code>/api/auth/validate</code></td>
                            <td>Tokené©—è­‰</td>
                            <td>âœ…</td>
                        </tr>
                    </tbody>
                </table>

                <h3>è¨­å‚™ç›¸é—œ</h3>
                <table>
                    <thead>
                        <tr>
                            <th>æ–¹æ³•</th>
                            <th>ç«¯é»</th>
                            <th>èªªæ˜</th>
                            <th>èªè­‰</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>POST</td>
                            <td><code>/device/register</code></td>
                            <td>è¨­å‚™è¨»å†Š</td>
                            <td>âŒ</td>
                        </tr>
                        <tr>
                            <td>GET</td>
                            <td><code>/device/status</code></td>
                            <td>æŸ¥è©¢è¨­å‚™ç‹€æ…‹</td>
                            <td>âŒ</td>
                        </tr>
                        <tr>
                            <td>POST</td>
                            <td><code>/device/activate</code></td>
                            <td>æ¿€æ´»è¨­å‚™</td>
                            <td>âœ…</td>
                        </tr>
                        <tr>
                            <td>GET</td>
                            <td><code>/api/devices</code></td>
                            <td>ç²å–ç”¨æˆ¶è¨­å‚™åˆ—è¡¨</td>
                            <td>âœ…</td>
                        </tr>
                    </tbody>
                </table>

                <h3>æ¨¡æ¿èˆ‡ä½ˆå±€</h3>
                <table>
                    <thead>
                        <tr>
                            <th>æ–¹æ³•</th>
                            <th>ç«¯é»</th>
                            <th>èªªæ˜</th>
                            <th>èªè­‰</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>GET</td>
                            <td><code>/layout/list</code></td>
                            <td>ç²å–æ¨¡æ¿åˆ—è¡¨</td>
                            <td>âœ…</td>
                        </tr>
                        <tr>
                            <td>POST</td>
                            <td><code>/layout/save</code></td>
                            <td>ä¿å­˜æ¨¡æ¿</td>
                            <td>âœ…</td>
                        </tr>
                        <tr>
                            <td>GET</td>
                            <td><code>/layout/{id}</code></td>
                            <td>ç²å–æ¨¡æ¿è©³æƒ…</td>
                            <td>âœ…</td>
                        </tr>
                        <tr>
                            <td>DELETE</td>
                            <td><code>/layout/{id}</code></td>
                            <td>åˆªé™¤æ¨¡æ¿</td>
                            <td>âœ…</td>
                        </tr>
                    </tbody>
                </table>

                <h3>åœ–ç‰‡ç®¡ç†</h3>
                <table>
                    <thead>
                        <tr>
                            <th>æ–¹æ³•</th>
                            <th>ç«¯é»</th>
                            <th>èªªæ˜</th>
                            <th>èªè­‰</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>POST</td>
                            <td><code>/api/images/upload</code></td>
                            <td>ä¸Šå‚³åœ–ç‰‡</td>
                            <td>âœ…</td>
                        </tr>
                        <tr>
                            <td>GET</td>
                            <td><code>/api/images/{id}</code></td>
                            <td>ç²å–åœ–ç‰‡</td>
                            <td>âœ…</td>
                        </tr>
                        <tr>
                            <td>GET</td>
                            <td><code>/api/images/proxy</code></td>
                            <td>åœ–ç‰‡ä»£ç†æœå‹™</td>
                            <td>âœ…</td>
                        </tr>
                        <tr>
                            <td>DELETE</td>
                            <td><code>/api/images/{id}</code></td>
                            <td>åˆªé™¤åœ–ç‰‡</td>
                            <td>âœ…</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- éƒ¨ç½²æ¶æ§‹ -->
            <div class="section">
                <h2>ğŸš€ éƒ¨ç½²æ¶æ§‹èˆ‡é…ç½®</h2>
                
                <div class="mermaid">
                    graph LR
                        subgraph "é–‹ç™¼ç’°å¢ƒ"
                            A1[æœ¬åœ°é–‹ç™¼<br/>localhost:3000]
                            A2[æœ¬åœ°å¾Œç«¯<br/>localhost:8080]
                            A3[æœ¬åœ°MongoDB<br/>localhost:27017]
                        end
                        
                        subgraph "ç”Ÿç”¢ç’°å¢ƒ"
                            B1[Vercel<br/>å‰ç«¯éƒ¨ç½²]
                            B2[Railway<br/>å¾Œç«¯éƒ¨ç½²]
                            B3[MongoDB Atlas<br/>é›²ç«¯è³‡æ–™åº«]
                            B4[AWS S3<br/>åœ–ç‰‡å­˜å„²]
                        end
                        
                        A1 --> A2
                        A2 --> A3
                        B1 --> B2
                        B2 --> B3
                        B2 --> B4
                </div>

                <h3>ç’°å¢ƒè®Šæ•¸é…ç½®</h3>
                
                <h4>å¾Œç«¯ç’°å¢ƒè®Šæ•¸ï¼ˆRailwayï¼‰</h4>
                <div class="code-block">
<code># è³‡æ–™åº«é…ç½®
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/epaperdoorplate?retryWrites=true&w=majority

# JWTé…ç½®
JWT_SECRET=your-64-character-random-secret-key-here
JWT_EXPIRATION=86400000

# æœå‹™å™¨é…ç½®
SERVER_PORT=$PORT
SERVER_SSL_ENABLED=false
SERVER_ADDRESS=0.0.0.0

# CORSé…ç½®
ALLOWED_ORIGINS=https://your-frontend-domain.vercel.app
ALLOW_LOCALHOST=false

# å­˜å„²é…ç½®
STORAGE_TYPE=s3
STORAGE_S3_BUCKET=your-bucket-name
STORAGE_S3_REGION=us-east-1
STORAGE_S3_ACCESS_KEY=your-access-key
STORAGE_S3_SECRET_KEY=your-secret-key</code>
                </div>

                <h4>å‰ç«¯ç’°å¢ƒè®Šæ•¸ï¼ˆVercelï¼‰</h4>
                <div class="code-block">
<code>REACT_APP_API_BASE_URL=https://your-backend.up.railway.app</code>
                </div>

                <div class="warning">
                    <strong>âš ï¸ é‡è¦æç¤ºï¼š</strong>
                    <ul style="margin-top: 10px; margin-left: 20px;">
                        <li>JWT_SECRETå¿…é ˆè‡³å°‘64å€‹å­—ç¬¦ï¼Œä½¿ç”¨å¼·éš¨æ©Ÿå¯†é‘°</li>
                        <li>MongoDBå¯†ç¢¼ä¸­çš„ç‰¹æ®Šå­—ç¬¦éœ€è¦URLç·¨ç¢¼</li>
                        <li>ç”Ÿç”¢ç’°å¢ƒå¿…é ˆè¨­ç½®ALLOWED_ORIGINSï¼Œç¦ç”¨localhost</li>
                        <li>SERVER_SSL_ENABLEDåœ¨Railwayä¸Šæ‡‰è¨­ç‚ºfalseï¼ˆä½¿ç”¨å¹³å°SSLï¼‰</li>
                    </ul>
                </div>
            </div>

            <!-- å•é¡Œè§£æ±ºæ–¹æ¡ˆ -->
            <div class="section">
                <h2>ğŸ”§ é—œéµå•é¡Œè§£æ±ºæ–¹æ¡ˆ</h2>
                
                <h3>1. MongoDB Atlas SSLé€£æ¥å•é¡Œ</h3>
                <div class="info">
                    <strong>å•é¡Œæè¿°ï¼š</strong>
                    <p>åœ¨éƒ¨ç½²åˆ°Railwayæ™‚é‡åˆ° <code>javax.net.ssl.SSLException: Received fatal alert: internal_error</code> éŒ¯èª¤ã€‚</p>
                </div>
                
                <h4>è§£æ±ºæ–¹æ¡ˆï¼š</h4>
                <ol style="margin-left: 20px;">
                    <li><strong>ä½¿ç”¨æ­£ç¢ºçš„é€£æ¥å­—ç¬¦ä¸²æ ¼å¼ï¼š</strong>
                        <div class="code-block">
<code># æ¨è–¦ä½¿ç”¨ mongodb+srv:// æ ¼å¼
mongodb+srv://username:password@cluster.mongodb.net/database?retryWrites=true&w=majority</code>
                        </div>
                    </li>
                    <li><strong>å¯†ç¢¼URLç·¨ç¢¼ï¼š</strong>
                        <table style="margin: 15px 0;">
                            <thead>
                                <tr>
                                    <th>ç‰¹æ®Šå­—ç¬¦</th>
                                    <th>URLç·¨ç¢¼</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td>@</td><td>%40</td></tr>
                                <tr><td>#</td><td>%23</td></tr>
                                <tr><td>$</td><td>%24</td></tr>
                                <tr><td>%</td><td>%25</td></tr>
                                <tr><td>&</td><td>%26</td></tr>
                                <tr><td>+</td><td>%2B</td></tr>
                            </tbody>
                        </table>
                    </li>
                    <li><strong>é…ç½®ç¶²çµ¡è¨ªå•ç™½åå–®ï¼š</strong>
                        <p>åœ¨MongoDB Atlasä¸­å…è¨± <code>0.0.0.0/0</code> æˆ–Railwayçš„IPç¯„åœã€‚</p>
                    </li>
                </ol>

                <h3>2. HTTPS/SSLé…ç½®</h3>
                <div class="success">
                    <strong>âœ… æœ€ä½³å¯¦è¸ï¼š</strong>
                    <p>ä½¿ç”¨å¹³å°æä¾›çš„SSLï¼ˆRailway/Vercelï¼‰ï¼Œè¨­ç½® <code>SERVER_SSL_ENABLED=false</code>ï¼Œè®“å¹³å°è™•ç†SSLçµ‚æ­¢ã€‚</p>
                </div>

                <h3>3. CORSè·¨åŸŸé…ç½®</h3>
                <div class="code-block">
<code># é–‹ç™¼ç’°å¢ƒ
ALLOW_LOCALHOST=true  # è‡ªå‹•å…è¨±localhostè¨ªå•

# ç”Ÿç”¢ç’°å¢ƒ
ALLOWED_ORIGINS=https://your-frontend-domain.com
ALLOW_LOCALHOST=false  # ç¦ç”¨localhostï¼ˆå®‰å…¨ï¼‰</code>
                </div>
            </div>

            <!-- è³‡æ–™æ¨¡å‹ -->
            <div class="section">
                <h2>ğŸ“Š è³‡æ–™æ¨¡å‹è¨­è¨ˆ</h2>
                
                <h3>æ ¸å¿ƒå¯¦é«”é—œä¿‚</h3>
                <div class="mermaid">
                    erDiagram
                        User ||--o{ Device : "æ“æœ‰"
                        User ||--o{ DoorplateLayout : "å‰µå»º"
                        User ||--o{ ImageLibraryItem : "ä¸Šå‚³"
                        User ||--o{ TextLibraryItem : "ä¿å­˜"
                        Device ||--o| DoorplateLayout : "ä½¿ç”¨"
                        DoorplateLayout ||--o{ ElementStyle : "åŒ…å«"
                        ImageFile ||--o{ ImageLibraryItem : "å¼•ç”¨"
                        ActivationCode ||--o| Device : "æ¿€æ´»"
                </div>

                <h3>ä¸»è¦è³‡æ–™æ¨¡å‹</h3>
                <table>
                    <thead>
                        <tr>
                            <th>æ¨¡å‹</th>
                            <th>èªªæ˜</th>
                            <th>é—œéµæ¬„ä½</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>User</strong></td>
                            <td>ç”¨æˆ¶å¸³è™Ÿ</td>
                            <td>username, password, email, superuser</td>
                        </tr>
                        <tr>
                            <td><strong>Device</strong></td>
                            <td>è¨­å‚™è³‡è¨Š</td>
                            <td>deviceId, uniqueId, isActivated, currentTemplateId</td>
                        </tr>
                        <tr>
                            <td><strong>DoorplateLayout</strong></td>
                            <td>é–€ç‰Œæ¨¡æ¿</td>
                            <td>layoutId, elements, userId, createdAt</td>
                        </tr>
                        <tr>
                            <td><strong>ImageFile</strong></td>
                            <td>åœ–ç‰‡æª”æ¡ˆ</td>
                            <td>imageId, filename, url, userId</td>
                        </tr>
                        <tr>
                            <td><strong>ActivationCode</strong></td>
                            <td>æ¿€æ´»ç¢¼</td>
                            <td>code, deviceId, expireAt, used</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- å·¥ä½œæµç¨‹ -->
            <div class="section">
                <h2>ğŸ”„ ç³»çµ±å·¥ä½œæµç¨‹</h2>
                
                <h3>è¨­å‚™æ¿€æ´»æµç¨‹</h3>
                <div class="mermaid">
                    sequenceDiagram
                        participant ESP32
                        participant Backend
                        participant Frontend
                        participant MongoDB
                        
                        ESP32->>Backend: POST /device/register
                        Backend->>MongoDB: å‰µå»ºè¨­å‚™è¨˜éŒ„
                        Backend-->>ESP32: è¿”å›deviceIdå’ŒactivationCode
                        
                        Frontend->>Backend: POST /device/activate
                        Backend->>MongoDB: é©—è­‰æ¿€æ´»ç¢¼ä¸¦ç¶å®šç”¨æˆ¶
                        Backend-->>Frontend: æ¿€æ´»æˆåŠŸ
                        
                        ESP32->>Backend: GET /device/status
                        Backend->>MongoDB: æŸ¥è©¢è¨­å‚™ç‹€æ…‹
                        Backend-->>ESP32: è¿”å›æ›´æ–°å…§å®¹ï¼ˆBINæ•¸æ“šï¼‰
                </div>

                <h3>å…§å®¹æ›´æ–°æµç¨‹</h3>
                <div class="mermaid">
                    sequenceDiagram
                        participant User
                        participant Frontend
                        participant Backend
                        participant Python
                        participant ESP32
                        
                        User->>Frontend: è¨­è¨ˆæ¨¡æ¿ä¸¦ä¿å­˜
                        Frontend->>Backend: POST /layout/save
                        Backend->>Backend: è¨­ç½®è¨­å‚™needUpdate=true
                        
                        ESP32->>Backend: GET /device/status
                        Backend->>Backend: æª¢æŸ¥needUpdate
                        Backend->>Python: èª¿ç”¨æ¸²æŸ“è…³æœ¬
                        Python-->>Backend: è¿”å›BINæ•¸æ“š
                        Backend-->>ESP32: è¿”å›BINæ•¸æ“š
                        ESP32->>ESP32: æ›´æ–°é›»å­ç´™é¡¯ç¤º
                </div>
            </div>

            <!-- å®‰å…¨æ©Ÿåˆ¶ -->
            <div class="section">
                <h2>ğŸ”’ å®‰å…¨æ©Ÿåˆ¶</h2>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>JWTèªè­‰</h4>
                        <p>ä½¿ç”¨JWT Tokené€²è¡Œç„¡ç‹€æ…‹èªè­‰ï¼ŒTokenåŒ…å«ç”¨æˆ¶è³‡è¨Šå’ŒéæœŸæ™‚é–“ï¼Œæœ‰æ•ˆé˜²æ­¢æœªæˆæ¬Šè¨ªå•ã€‚</p>
                    </div>
                    
                    <div class="feature-card">
                        <h4>å¯†ç¢¼åŠ å¯†</h4>
                        <p>ä½¿ç”¨BCrypté€²è¡Œå¯†ç¢¼é›œæ¹Šï¼Œç¢ºä¿å¯†ç¢¼ä¸ä»¥æ˜æ–‡å½¢å¼å­˜å„²ã€‚</p>
                    </div>
                    
                    <div class="feature-card">
                        <h4>CORSä¿è­·</h4>
                        <p>åš´æ ¼æ§åˆ¶å…è¨±çš„ä¾†æºåŸŸåï¼Œç”Ÿç”¢ç’°å¢ƒç¦ç”¨localhostè¨ªå•ã€‚</p>
                    </div>
                    
                    <div class="feature-card">
                        <h4>HTTPSå‚³è¼¸</h4>
                        <p>æ‰€æœ‰APIé€šä¿¡ä½¿ç”¨HTTPSåŠ å¯†ï¼Œä¿è­·æ•¸æ“šå‚³è¼¸å®‰å…¨ã€‚</p>
                    </div>
                    
                    <div class="feature-card">
                        <h4>ç¡¬é«”ç™½åå–®</h4>
                        <p>æ”¯æ´ç¡¬é«”è¨­å‚™ç™½åå–®æ©Ÿåˆ¶ï¼Œåªæœ‰æˆæ¬Šçš„è¨­å‚™æ‰èƒ½è¨»å†Šã€‚</p>
                    </div>
                    
                    <div class="feature-card">
                        <h4>æ¿€æ´»ç¢¼æ©Ÿåˆ¶</h4>
                        <p>è¨­å‚™æ¿€æ´»éœ€è¦è‡¨æ™‚æ¿€æ´»ç¢¼ï¼Œæœ‰æ•ˆé˜²æ­¢æœªæˆæ¬Šè¨­å‚™ç¶å®šã€‚</p>
                    </div>
                </div>
            </div>

            <!-- æ€§èƒ½å„ªåŒ– -->
            <div class="section">
                <h2>âš¡ æ€§èƒ½å„ªåŒ–ç­–ç•¥</h2>
                
                <div class="timeline">
                    <div class="timeline-item">
                        <h4>åœ–ç‰‡è™•ç†å„ªåŒ–</h4>
                        <p>ä½¿ç”¨Pythonè…³æœ¬é€²è¡Œç•°æ­¥åœ–ç‰‡æ¸²æŸ“ï¼Œæ”¯æ´æ‰¹é‡è™•ç†å’Œç·©å­˜æ©Ÿåˆ¶ã€‚</p>
                    </div>
                    
                    <div class="timeline-item">
                        <h4>è³‡æ–™åº«ç´¢å¼•</h4>
                        <p>åœ¨MongoDBä¸­ç‚ºdeviceIdã€uniqueIdã€userIdç­‰é—œéµæ¬„ä½å»ºç«‹ç´¢å¼•ï¼Œæå‡æŸ¥è©¢æ•ˆç‡ã€‚</p>
                    </div>
                    
                    <div class="timeline-item">
                        <h4>é›²ç«¯å­˜å„²</h4>
                        <p>ä½¿ç”¨AWS S3å­˜å„²åœ–ç‰‡ï¼Œåˆ©ç”¨CDNåŠ é€Ÿåœ–ç‰‡è¼‰å…¥é€Ÿåº¦ã€‚</p>
                    </div>
                    
                    <div class="timeline-item">
                        <h4>è¨­å‚™è¼ªè©¢å„ªåŒ–</h4>
                        <p>è¨­å‚™æŒ‰è¨­å®šçš„refreshIntervalé€²è¡Œè¼ªè©¢ï¼Œé¿å…éåº¦è«‹æ±‚ã€‚</p>
                    </div>
                </div>
            </div>

            <!-- æœªä¾†ç™¼å±• -->
            <div class="section">
                <h2>ğŸš€ æœªä¾†ç™¼å±•æ–¹å‘</h2>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>ğŸ“± ç§»å‹•æ‡‰ç”¨</h4>
                        <p>é–‹ç™¼iOSå’ŒAndroidåŸç”Ÿæ‡‰ç”¨ï¼Œæä¾›æ›´ä¾¿æ·çš„ç§»å‹•ç«¯ç®¡ç†é«”é©—ã€‚</p>
                    </div>
                    
                    <div class="feature-card">
                        <h4>ğŸ¤– AIåŠŸèƒ½</h4>
                        <p>æ•´åˆAIåœ–åƒè­˜åˆ¥å’Œæ–‡å­—ç”Ÿæˆï¼Œè‡ªå‹•å„ªåŒ–é–€ç‰Œè¨­è¨ˆã€‚</p>
                    </div>
                    
                    <div class="feature-card">
                        <h4>ğŸ“Š æ•¸æ“šåˆ†æ</h4>
                        <p>æ·»åŠ ä½¿ç”¨çµ±è¨ˆå’Œåˆ†æå„€è¡¨æ¿ï¼Œè¿½è¹¤è¨­å‚™ä½¿ç”¨æƒ…æ³ã€‚</p>
                    </div>
                    
                    <div class="feature-card">
                        <h4>ğŸŒ å¤šèªè¨€æ”¯æ´</h4>
                        <p>æ”¯æ´å¤šèªè¨€ä»‹é¢å’Œåœ‹éš›åŒ–åŠŸèƒ½ã€‚</p>
                    </div>
                    
                    <div class="feature-card">
                        <h4>ğŸ”” é€šçŸ¥ç³»çµ±</h4>
                        <p>å¯¦ç¾æ¨é€é€šçŸ¥åŠŸèƒ½ï¼ŒåŠæ™‚æé†’ç”¨æˆ¶è¨­å‚™ç‹€æ…‹å’Œæ›´æ–°ã€‚</p>
                    </div>
                    
                    <div class="feature-card">
                        <h4>ğŸ‘¥ å”ä½œåŠŸèƒ½</h4>
                        <p>æ”¯æ´åœ˜éšŠå”ä½œå’Œæ¨¡æ¿åˆ†äº«åŠŸèƒ½ã€‚</p>
                    </div>
                </div>
            </div>

            <!-- ç¸½çµ -->
            <div class="section">
                <h2>ğŸ“ å°ˆæ¡ˆç¸½çµ</h2>
                
                <p style="font-size: 1.1em; margin-bottom: 20px;">
                    <strong>ePaper é›»å­ç´™é–€ç‰Œç³»çµ±</strong>æˆåŠŸæ•´åˆäº†ç¾ä»£WebæŠ€è¡“ã€é›²ç«¯æœå‹™å’Œç‰©è¯ç¶²ç¡¬é«”ï¼Œ
                    å¯¦ç¾äº†ä¸€å€‹å®Œæ•´çš„æ™ºèƒ½é–€ç‰Œè§£æ±ºæ–¹æ¡ˆã€‚ç³»çµ±æ¡ç”¨å‰å¾Œç«¯åˆ†é›¢æ¶æ§‹ï¼Œä½¿ç”¨Spring Bootæ§‹å»ºRESTful APIï¼Œ
                    Reactæ§‹å»ºç¾ä»£åŒ–å‰ç«¯ï¼ŒMongoDBå­˜å„²è³‡æ–™ï¼ŒAWS S3å­˜å„²åœ–ç‰‡ï¼Œä¸¦é€šéESP32å¾®æ§åˆ¶å™¨é€£æ¥ç¡¬é«”è¨­å‚™ã€‚
                </p>
                
                <div class="success">
                    <h4>âœ… å°ˆæ¡ˆäº®é»ï¼š</h4>
                    <ul style="margin-top: 10px; margin-left: 20px;">
                        <li>å®Œæ•´çš„ç”¨æˆ¶èªè­‰å’Œæˆæ¬Šæ©Ÿåˆ¶</li>
                        <li>éˆæ´»çš„æ¨¡æ¿è¨­è¨ˆç³»çµ±</li>
                        <li>é«˜æ•ˆçš„åœ–ç‰‡è™•ç†å’Œæ¸²æŸ“æµç¨‹</li>
                        <li>å¯é çš„è¨­å‚™ç®¡ç†å’Œæ›´æ–°æ©Ÿåˆ¶</li>
                        <li>å®‰å…¨çš„é›²ç«¯éƒ¨ç½²æ–¹æ¡ˆ</li>
                        <li>å„ªç§€çš„é–‹ç™¼æ–‡æª”å’Œéƒ¨ç½²æŒ‡å—</li>
                    </ul>
                </div>
                
                <div class="info" style="margin-top: 20px;">
                    <h4>ğŸ“š ç›¸é—œæ–‡æª”ï¼š</h4>
                    <ul style="margin-top: 10px; margin-left: 20px;">
                        <li><code>RAILWAY_QUICK_START.md</code> - Railwayå¿«é€Ÿéƒ¨ç½²æŒ‡å—</li>
                        <li><code>MONGODB_ATLAS_SSL_FIX.md</code> - MongoDB SSLå•é¡Œä¿®å¾©æŒ‡å—</li>
                        <li><code>CLOUD_DEPLOYMENT_CONFIG_CHECKLIST.md</code> - é›²ç«¯éƒ¨ç½²é…ç½®æ¸…å–®</li>
                        <li><code>HTTPS_SETUP.md</code> - HTTPSè¨­ç½®æŒ‡å—</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="footer">
            <p style="font-size: 1.1em; margin-bottom: 10px;">
                <strong>ePaper é›»å­ç´™é–€ç‰Œç³»çµ±</strong>
            </p>
            <p>ç‰ˆæœ¬ 1.0.0 | 2024å¹´åº¦å°ˆæ¡ˆ</p>
            <p style="margin-top: 20px; opacity: 0.8;">
                æœ¬å ±å‘ŠåŒ…å«å®Œæ•´çš„æŠ€è¡“æ–‡æª”ã€éƒ¨ç½²æŒ‡å—å’Œå•é¡Œè§£æ±ºæ–¹æ¡ˆ
            </p>
        </div>
    </div>

    <script>
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            }
        });
    </script>
</body>
</html>
