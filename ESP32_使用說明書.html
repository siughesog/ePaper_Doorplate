<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ESP32 ePaper 門牌系統 - 使用說明書</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft JhengHei', '微軟正黑體', Arial, sans-serif;
            line-height: 1.8;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.95;
        }
        
        .content {
            padding: 40px;
        }
        
        .section {
            margin-bottom: 50px;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 5px solid #667eea;
        }
        
        .section h2 {
            color: #667eea;
            font-size: 1.8em;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section h3 {
            color: #555;
            font-size: 1.4em;
            margin-top: 25px;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e0e0e0;
        }
        
        .section h4 {
            color: #666;
            font-size: 1.2em;
            margin-top: 20px;
            margin-bottom: 10px;
        }
        
        .step {
            background: white;
            padding: 20px;
            margin: 15px 0;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            border-left: 4px solid #667eea;
        }
        
        .step-number {
            display: inline-block;
            background: #667eea;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            text-align: center;
            line-height: 30px;
            font-weight: bold;
            margin-right: 10px;
        }
        
        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.6;
        }
        
        .code-block code {
            color: #f8f8f2;
        }
        
        .warning {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        
        .info {
            background: #d1ecf1;
            border-left: 4px solid #17a2b8;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        
        .success {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        
        .table-container {
            overflow-x: auto;
            margin: 20px 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            margin: 15px 0;
        }
        
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        th {
            background: #667eea;
            color: white;
            font-weight: bold;
        }
        
        tr:hover {
            background: #f5f5f5;
        }
        
        ul, ol {
            margin-left: 30px;
            margin-top: 10px;
        }
        
        li {
            margin: 8px 0;
        }
        
        .icon {
            font-size: 1.2em;
            margin-right: 8px;
        }
        
        .toc {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
        }
        
        .toc h3 {
            color: #667eea;
            margin-bottom: 15px;
        }
        
        .toc ul {
            list-style: none;
            margin-left: 0;
        }
        
        .toc li {
            margin: 8px 0;
        }
        
        .toc a {
            color: #667eea;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .toc a:hover {
            color: #764ba2;
            text-decoration: underline;
        }
        
        @media print {
            body {
                background: white;
                padding: 0;
            }
            
            .container {
                box-shadow: none;
            }
            
            .header {
                background: #667eea;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>📱 ESP32 ePaper 門牌系統</h1>
            <p>硬體設備使用說明書</p>
            <p style="font-size: 0.9em; margin-top: 10px; opacity: 0.9;">版本 1.0.0 | 完整操作指南</p>
        </div>
        
        <div class="content">
            <div class="toc">
                <h3>📑 目錄</h3>
                <ul>
                    <li><a href="#overview">1. 系統概述</a></li>
                    <li><a href="#hardware">2. 硬體需求與連接</a></li>
                    <li><a href="#setup">3. 初始設定</a></li>
                    <li><a href="#wifi">4. WiFi 配置</a></li>
                    <li><a href="#activation">5. 設備激活</a></li>
                    <li><a href="#operation">6. 日常操作</a></li>
                    <li><a href="#troubleshooting">7. 故障排除</a></li>
                    <li><a href="#specifications">8. 技術規格</a></li>
                </ul>
            </div>
            
            <!-- 系統概述 -->
            <div class="section" id="overview">
                <h2><span class="icon">📋</span>1. 系統概述</h2>
                <p>ESP32 ePaper 門牌系統是一個基於 ESP32 微控制器的智能電子紙顯示系統。設備通過 WiFi 連接到後端服務器，定期獲取更新的門牌內容並顯示在電子紙螢幕上。</p>
                
                <h3>核心功能</h3>
                <ul>
                    <li><strong>自動更新：</strong>設備會定期從服務器獲取最新的門牌內容</li>
                    <li><strong>低功耗：</strong>使用深度睡眠模式，僅在更新時喚醒</li>
                    <li><strong>WiFi 配置：</strong>支援 AP 模式進行 WiFi 設定</li>
                    <li><strong>設備激活：</strong>通過激活碼綁定到用戶帳號</li>
                    <li><strong>三色顯示：</strong>支援黑白紅三色電子紙顯示</li>
                </ul>
                
                <div class="info">
                    <strong>💡 提示：</strong>電子紙顯示器具有記憶特性，即使斷電也能保持顯示內容，這使得系統非常節能。
                </div>
            </div>
            
            <!-- 硬體需求與連接 -->
            <div class="section" id="hardware">
                <h2><span class="icon">🔌</span>2. 硬體需求與連接</h2>
                
                <h3>所需硬體組件</h3>
                <table>
                    <tr>
                        <th>組件</th>
                        <th>規格說明</th>
                        <th>數量</th>
                    </tr>
                    <tr>
                        <td>ESP32 開發板</td>
                        <td>ESP32-WROOM-32 或相容型號</td>
                        <td>1</td>
                    </tr>
                    <tr>
                        <td>電子紙顯示器</td>
                        <td>支援 GxEPD2 庫的三色電子紙（如 7.5" 或 5.83"）</td>
                        <td>1</td>
                    </tr>
                    <tr>
                        <td>按鈕</td>
                        <td>用於手動喚醒（可選）</td>
                        <td>2</td>
                    </tr>
                    <tr>
                        <td>電源供應</td>
                        <td>5V USB 電源或電池組</td>
                        <td>1</td>
                    </tr>
                    <tr>
                        <td>連接線</td>
                        <td>杜邦線或排線</td>
                        <td>若干</td>
                    </tr>
                </table>
                
                <h3>接線說明</h3>
                <div class="step">
                    <h4>電子紙顯示器連接（以常見的 7.5" 三色電子紙為例）</h4>
                    <table>
                        <tr>
                            <th>電子紙引腳</th>
                            <th>ESP32 引腳</th>
                            <th>說明</th>
                        </tr>
                        <tr>
                            <td>VCC</td>
                            <td>3.3V</td>
                            <td>電源正極</td>
                        </tr>
                        <tr>
                            <td>GND</td>
                            <td>GND</td>
                            <td>電源負極</td>
                        </tr>
                        <tr>
                            <td>DIN (MOSI)</td>
                            <td>GPIO 23</td>
                            <td>SPI 數據輸入</td>
                        </tr>
                        <tr>
                            <td>CLK</td>
                            <td>GPIO 18</td>
                            <td>SPI 時鐘</td>
                        </tr>
                        <tr>
                            <td>CS</td>
                            <td>GPIO 5</td>
                            <td>片選信號</td>
                        </tr>
                        <tr>
                            <td>DC</td>
                            <td>GPIO 17</td>
                            <td>數據/命令選擇</td>
                        </tr>
                        <tr>
                            <td>RST</td>
                            <td>GPIO 16</td>
                            <td>重置信號</td>
                        </tr>
                        <tr>
                            <td>BUSY</td>
                            <td>GPIO 4</td>
                            <td>忙碌狀態指示</td>
                        </tr>
                    </table>
                </div>
                
                <div class="step">
                    <h4>按鈕連接（可選）</h4>
                    <ul>
                        <li>按鈕 1：連接到 GPIO 34（內部上拉）</li>
                        <li>按鈕 2：連接到 GPIO 35（內部上拉）</li>
                        <li>按鈕另一端連接到 GND</li>
                    </ul>
                </div>
                
                <div class="warning">
                    <strong>⚠️ 注意：</strong>
                    <ul>
                        <li>確保電源供應穩定，建議使用 5V 2A 以上的電源適配器</li>
                        <li>連接前請確認引腳對應關係，錯誤連接可能損壞設備</li>
                        <li>某些電子紙型號可能需要不同的引腳配置，請參考對應的資料手冊</li>
                    </ul>
                </div>
            </div>
            
            <!-- 初始設定 -->
            <div class="section" id="setup">
                <h2><span class="icon">⚙️</span>3. 初始設定</h2>
                
                <h3>3.1 安裝開發環境</h3>
                <div class="step">
                    <span class="step-number">1</span>
                    <strong>下載並安裝 Arduino IDE</strong>
                    <p>從 <a href="https://www.arduino.cc/en/software" target="_blank">Arduino 官網</a> 下載最新版本的 Arduino IDE（建議 1.8.x 或 2.x）</p>
                </div>
                
                <div class="step">
                    <span class="step-number">2</span>
                    <strong>安裝 ESP32 開發板支援</strong>
                    <p>在 Arduino IDE 中：</p>
                    <ol>
                        <li>打開「檔案」→「偏好設定」</li>
                        <li>在「額外的開發板管理員網址」中添加：<code>https://raw.githubusercontent.com/espressif/arduino-esp32/gh-pages/package_esp32_index.json</code></li>
                        <li>打開「工具」→「開發板」→「開發板管理員」</li>
                        <li>搜尋「ESP32」並安裝「esp32 by Espressif Systems」</li>
                    </ol>
                </div>
                
                <div class="step">
                    <span class="step-number">3</span>
                    <strong>安裝必要的程式庫</strong>
                    <p>在 Arduino IDE 中打開「草稿碼」→「匯入程式庫」→「管理程式庫」，安裝以下庫：</p>
                    <ul>
                        <li><strong>GxEPD2</strong> - 電子紙顯示庫</li>
                        <li><strong>ArduinoJson</strong> - JSON 處理庫</li>
                        <li><strong>ESPping</strong> - 網路測試庫（可選）</li>
                    </ul>
                </div>
                
                <h3>3.2 上傳程式碼</h3>
                <div class="step">
                    <span class="step-number">1</span>
                    <strong>打開專案檔案</strong>
                    <p>在 Arduino IDE 中打開 <code>GxEPD2_Example/GxEPD2_Example.ino</code></p>
                </div>
                
                <div class="step">
                    <span class="step-number">2</span>
                    <strong>選擇開發板</strong>
                    <p>在「工具」選單中：</p>
                    <ul>
                        <li>開發板：選擇「ESP32 Dev Module」或對應的型號</li>
                        <li>上傳速度：115200</li>
                        <li>CPU 頻率：240MHz（WiFi/BT）</li>
                        <li>Flash 大小：根據實際情況選擇（建議 4MB 以上）</li>
                        <li>分割區配置：預設或「Huge APP」</li>
                    </ul>
                </div>
                
                <div class="step">
                    <span class="step-number">3</span>
                    <strong>配置 API 網址（可選）</strong>
                    <p>如果需要更改後端 API 網址，在程式碼中找到以下行並修改：</p>
                    <div class="code-block">
<code>const char* api_base_url = "https://epaperdoorplate-production.up.railway.app";</code>
                    </div>
                </div>
                
                <div class="step">
                    <span class="step-number">4</span>
                    <strong>上傳程式碼</strong>
                    <ol>
                        <li>使用 USB 線連接 ESP32 到電腦</li>
                        <li>選擇正確的 COM 埠（工具 → 埠）</li>
                        <li>點擊「上傳」按鈕（或按 Ctrl+U）</li>
                        <li>等待編譯和上傳完成</li>
                    </ol>
                </div>
                
                <div class="success">
                    <strong>✅ 成功標誌：</strong>上傳完成後，打開序列埠監視器（工具 → 序列埠監視器），設定波特率為 115200，應該能看到設備啟動訊息。
                </div>
            </div>
            
            <!-- WiFi 配置 -->
            <div class="section" id="wifi">
                <h2><span class="icon">📶</span>4. WiFi 配置</h2>
                
                <h3>4.1 自動配置模式（AP 模式）</h3>
                <p>如果設備首次啟動或無法連接到已保存的 WiFi，設備會自動進入 AP（Access Point）模式。</p>
                
                <div class="step">
                    <span class="step-number">1</span>
                    <strong>連接設備 WiFi</strong>
                    <p>在手機或電腦的 WiFi 列表中，找到名為 <strong>"ESP32-WiFi-Config"</strong> 的網路</p>
                    <ul>
                        <li>WiFi 名稱（SSID）：<code>ESP32-WiFi-Config</code></li>
                        <li>密碼：<code>12345678</code></li>
                    </ul>
                </div>
                
                <div class="step">
                    <span class="step-number">2</span>
                    <strong>打開配置頁面</strong>
                    <p>連接 WiFi 後，打開瀏覽器訪問：<code>http://192.168.4.1</code></p>
                    <p>或查看序列埠監視器，會顯示實際的 IP 地址</p>
                </div>
                
                <div class="step">
                    <span class="step-number">3</span>
                    <strong>輸入 WiFi 憑證</strong>
                    <p>在配置頁面中：</p>
                    <ol>
                        <li>輸入您的 WiFi 名稱（SSID）</li>
                        <li>輸入 WiFi 密碼</li>
                        <li>點擊「保存並重啟」按鈕</li>
                    </ol>
                </div>
                
                <div class="step">
                    <span class="step-number">4</span>
                    <strong>等待重啟</strong>
                    <p>設備會自動重啟並嘗試連接到您輸入的 WiFi 網路。連接成功後，設備會繼續執行後續的激活流程。</p>
                </div>
                
                <div class="info">
                    <strong>💡 提示：</strong>WiFi 憑證會保存在 ESP32 的持久化存儲中，即使斷電也不會丟失。如果需要更改 WiFi 設定，可以按住按鈕重啟設備進入 AP 模式。
                </div>
                
                <h3>4.2 手動配置（修改程式碼）</h3>
                <p>如果您想在程式碼中直接設定 WiFi 憑證，可以修改以下行：</p>
                <div class="code-block">
<code>const char* default_ssid = "您的WiFi名稱";
const char* default_password = "您的WiFi密碼";</code>
                </div>
                <p>然後重新上傳程式碼。但建議使用 AP 模式配置，更加方便和安全。</p>
            </div>
            
            <!-- 設備激活 -->
            <div class="section" id="activation">
                <h2><span class="icon">🔐</span>5. 設備激活</h2>
                
                <h3>5.1 自動激活流程</h3>
                <p>設備連接到 WiFi 後，會自動執行以下流程：</p>
                
                <div class="step">
                    <span class="step-number">1</span>
                    <strong>獲取設備唯一 ID</strong>
                    <p>設備會讀取 ESP32 的 MAC 地址作為唯一識別碼</p>
                </div>
                
                <div class="step">
                    <span class="step-number">2</span>
                    <strong>呼叫激活 API</strong>
                    <p>設備會向後端服務器發送激活請求，包含設備的唯一 ID</p>
                </div>
                
                <div class="step">
                    <span class="step-number">3</span>
                    <strong>接收激活碼</strong>
                    <p>如果設備尚未激活，服務器會返回一個激活碼和過期時間</p>
                </div>
                
                <div class="step">
                    <span class="step-number">4</span>
                    <strong>顯示激活碼</strong>
                    <p>激活碼會顯示在序列埠監視器中，格式如下：</p>
                    <div class="code-block">
<code>🔐 未激活，儲存激活碼：ABC123XYZ
⏰ 過期時間：2024-12-31T23:59:59</code>
                    </div>
                </div>
                
                <h3>5.2 在前端綁定設備</h3>
                <div class="step">
                    <span class="step-number">1</span>
                    <strong>登入前端系統</strong>
                    <p>使用瀏覽器訪問前端網站並登入您的帳號</p>
                </div>
                
                <div class="step">
                    <span class="step-number">2</span>
                    <strong>進入裝置管理</strong>
                    <p>點擊導航欄中的「裝置管理」選項</p>
                </div>
                
                <div class="step">
                    <span class="step-number">3</span>
                    <strong>綁定設備</strong>
                    <ol>
                        <li>點擊「綁定新裝置」按鈕</li>
                        <li>輸入從序列埠監視器獲取的激活碼</li>
                        <li>為設備輸入一個易識別的名稱</li>
                        <li>點擊「確認綁定」</li>
                    </ol>
                </div>
                
                <div class="step">
                    <span class="step-number">4</span>
                    <strong>驗證綁定</strong>
                    <p>綁定成功後，設備會出現在裝置列表中。設備會在下一次喚醒時自動獲取更新內容。</p>
                </div>
                
                <div class="warning">
                    <strong>⚠️ 注意：</strong>
                    <ul>
                        <li>激活碼有時效性，請在過期前完成綁定</li>
                        <li>每個激活碼只能使用一次</li>
                        <li>如果激活碼過期，需要重啟設備獲取新的激活碼</li>
                    </ul>
                </div>
            </div>
            
            <!-- 日常操作 -->
            <div class="section" id="operation">
                <h2><span class="icon">🔄</span>6. 日常操作</h2>
                
                <h3>6.1 自動更新機制</h3>
                <p>設備採用深度睡眠 + 定時喚醒的機制：</p>
                <ul>
                    <li>設備喚醒後會連接到 WiFi</li>
                    <li>呼叫設備狀態 API 檢查是否有更新</li>
                    <li>如果有更新，下載並顯示新內容</li>
                    <li>完成後進入深度睡眠模式</li>
                    <li>根據設定的刷新間隔（預設 300 秒）自動喚醒</li>
                </ul>
                
                <h3>6.2 手動喚醒</h3>
                <p>如果連接了按鈕，可以通過以下方式手動喚醒設備：</p>
                <ul>
                    <li><strong>按鈕 1（GPIO 34）：</strong>短按可喚醒設備</li>
                    <li><strong>按鈕 2（GPIO 35）：</strong>短按可喚醒設備</li>
                </ul>
                <p>設備喚醒後會立即檢查更新並刷新顯示內容。</p>
                
                <h3>6.3 查看設備狀態</h3>
                <p>可以通過以下方式查看設備狀態：</p>
                <ul>
                    <li><strong>序列埠監視器：</strong>連接 USB 線並打開序列埠監視器，可以看到詳細的運行日誌</li>
                    <li><strong>前端系統：</strong>在「裝置管理」頁面可以查看設備的線上狀態、最後更新時間等資訊</li>
                </ul>
                
                <h3>6.4 配置刷新間隔</h3>
                <p>可以在前端系統的「裝置管理」頁面中修改設備的刷新間隔：</p>
                <ol>
                    <li>進入「裝置管理」頁面</li>
                    <li>找到要配置的設備</li>
                    <li>點擊「編輯」按鈕</li>
                    <li>修改「刷新間隔」欄位（單位：秒）</li>
                    <li>點擊「保存」</li>
                </ol>
                <p>新的刷新間隔會在設備下次喚醒時生效。</p>
            </div>
            
            <!-- 故障排除 -->
            <div class="section" id="troubleshooting">
                <h2><span class="icon">🔧</span>7. 故障排除</h2>
                
                <h3>7.1 WiFi 連接問題</h3>
                <div class="step">
                    <h4>問題：無法連接到 WiFi</h4>
                    <p><strong>解決方法：</strong></p>
                    <ul>
                        <li>確認 WiFi 名稱和密碼正確</li>
                        <li>確認 WiFi 信號強度足夠（建議在路由器附近測試）</li>
                        <li>檢查路由器是否開啟了 MAC 地址過濾</li>
                        <li>嘗試重啟設備進入 AP 模式重新配置</li>
                    </ul>
                </div>
                
                <div class="step">
                    <h4>問題：設備一直進入 AP 模式</h4>
                    <p><strong>解決方法：</strong></p>
                    <ul>
                        <li>檢查序列埠監視器查看具體錯誤訊息</li>
                        <li>確認 WiFi 憑證已正確保存（查看序列埠輸出）</li>
                        <li>嘗試清除設備的 WiFi 設定（需要修改程式碼或使用按鈕重置）</li>
                    </ul>
                </div>
                
                <h3>7.2 API 連接問題</h3>
                <div class="step">
                    <h4>問題：無法連接到後端 API</h4>
                    <p><strong>解決方法：</strong></p>
                    <ul>
                        <li>確認 API 網址正確（檢查程式碼中的 <code>api_base_url</code>）</li>
                        <li>確認設備已連接到互聯網（可以 ping 測試）</li>
                        <li>檢查後端服務是否正常運行</li>
                        <li>查看序列埠監視器的錯誤訊息</li>
                    </ul>
                </div>
                
                <div class="step">
                    <h4>問題：HTTPS 證書錯誤</h4>
                    <p><strong>解決方法：</strong></p>
                    <ul>
                        <li>程式碼中已設定 <code>client.setInsecure()</code> 來跳過證書驗證</li>
                        <li>如果仍有問題，檢查後端 SSL 證書是否有效</li>
                    </ul>
                </div>
                
                <h3>7.3 顯示問題</h3>
                <div class="step">
                    <h4>問題：螢幕無顯示或顯示異常</h4>
                    <p><strong>解決方法：</strong></p>
                    <ul>
                        <li>檢查電子紙的電源連接</li>
                        <li>確認所有引腳連接正確</li>
                        <li>檢查序列埠監視器是否有顯示相關的錯誤訊息</li>
                        <li>確認電子紙型號與程式碼中的配置一致</li>
                        <li>嘗試重新上傳程式碼</li>
                    </ul>
                </div>
                
                <div class="step">
                    <h4>問題：顯示內容不完整或錯亂</h4>
                    <p><strong>解決方法：</strong></p>
                    <ul>
                        <li>檢查數據下載是否完整（查看序列埠日誌）</li>
                        <li>確認 Base64 解碼過程正常</li>
                        <li>檢查記憶體是否足夠（可能需要增加 CHUNK_SIZE）</li>
                    </ul>
                </div>
                
                <h3>7.4 激活問題</h3>
                <div class="step">
                    <h4>問題：無法獲取激活碼</h4>
                    <p><strong>解決方法：</strong></p>
                    <ul>
                        <li>確認設備已連接到 WiFi 和互聯網</li>
                        <li>檢查後端服務是否正常</li>
                        <li>查看序列埠監視器的 API 回應</li>
                        <li>確認設備的唯一 ID 正確（查看序列埠輸出）</li>
                    </ul>
                </div>
                
                <h3>7.5 深度睡眠問題</h3>
                <div class="step">
                    <h4>問題：設備無法喚醒</h4>
                    <p><strong>解決方法：</strong></p>
                    <ul>
                        <li>檢查定時器設定是否正確</li>
                        <li>確認按鈕連接正確（如果使用按鈕喚醒）</li>
                        <li>嘗試手動重啟設備（按 RESET 按鈕）</li>
                    </ul>
                </div>
                
                <div class="info">
                    <strong>💡 調試技巧：</strong>
                    <ul>
                        <li>始終保持序列埠監視器開啟，可以查看詳細的運行日誌</li>
                        <li>使用 <code>Serial.println()</code> 輸出調試資訊</li>
                        <li>檢查記憶體使用情況，避免記憶體溢出</li>
                        <li>確認所有引腳定義與實際硬體連接一致</li>
                    </ul>
                </div>
            </div>
            
            <!-- 技術規格 -->
            <div class="section" id="specifications">
                <h2><span class="icon">📊</span>8. 技術規格</h2>
                
                <h3>8.1 ESP32 規格</h3>
                <table>
                    <tr>
                        <th>項目</th>
                        <th>規格</th>
                    </tr>
                    <tr>
                        <td>微控制器</td>
                        <td>ESP32-WROOM-32</td>
                    </tr>
                    <tr>
                        <td>CPU</td>
                        <td>雙核 32-bit Xtensa LX6，最高 240MHz</td>
                    </tr>
                    <tr>
                        <td>記憶體</td>
                        <td>520KB SRAM</td>
                    </tr>
                    <tr>
                        <td>Flash</td>
                        <td>4MB（建議）</td>
                    </tr>
                    <tr>
                        <td>WiFi</td>
                        <td>802.11 b/g/n，支援 AP 和 Station 模式</td>
                    </tr>
                    <tr>
                        <td>工作電壓</td>
                        <td>3.3V</td>
                    </tr>
                    <tr>
                        <td>工作電流</td>
                        <td>80-240mA（運行時），10μA（深度睡眠）</td>
                    </tr>
                </table>
                
                <h3>8.2 電子紙顯示器規格</h3>
                <table>
                    <tr>
                        <th>項目</th>
                        <th>規格</th>
                    </tr>
                    <tr>
                        <td>顯示顏色</td>
                        <td>黑白紅三色</td>
                    </tr>
                    <tr>
                        <td>解析度</td>
                        <td>根據型號而定（常見：800x480 或 640x384）</td>
                    </tr>
                    <tr>
                        <td>介面</td>
                        <td>SPI</td>
                    </tr>
                    <tr>
                        <td>更新時間</td>
                        <td>約 12-15 秒</td>
                    </tr>
                    <tr>
                        <td>記憶特性</td>
                        <td>斷電後仍可保持顯示</td>
                    </tr>
                </table>
                
                <h3>8.3 系統參數</h3>
                <table>
                    <tr>
                        <th>參數</th>
                        <th>預設值</th>
                        <th>說明</th>
                    </tr>
                    <tr>
                        <td>刷新間隔</td>
                        <td>300 秒</td>
                        <td>設備自動喚醒檢查更新的間隔時間</td>
                    </tr>
                    <tr>
                        <td>API 超時</td>
                        <td>10 秒</td>
                        <td>API 請求的超時時間</td>
                    </tr>
                    <tr>
                        <td>數據塊大小</td>
                        <td>800 字節</td>
                        <td>Base64 解碼的數據塊大小</td>
                    </tr>
                    <tr>
                        <td>AP 模式 SSID</td>
                        <td>ESP32-WiFi-Config</td>
                        <td>WiFi 配置模式的網路名稱</td>
                    </tr>
                    <tr>
                        <td>AP 模式密碼</td>
                        <td>12345678</td>
                        <td>WiFi 配置模式的密碼</td>
                    </tr>
                </table>
                
                <h3>8.4 程式庫依賴</h3>
                <ul>
                    <li><strong>GxEPD2：</strong>電子紙顯示庫</li>
                    <li><strong>ArduinoJson：</strong>JSON 數據處理</li>
                    <li><strong>WiFiClientSecure：</strong>HTTPS 連接支援</li>
                    <li><strong>HTTPClient：</strong>HTTP 請求處理</li>
                    <li><strong>Preferences：</strong>持久化存儲</li>
                    <li><strong>WebServer：</strong>AP 模式下的 Web 服務器</li>
                </ul>
            </div>
            
            <!-- 結尾 -->
            <div class="section">
                <h2><span class="icon">📞</span>技術支援</h2>
                <p>如果您在使用過程中遇到任何問題，請：</p>
                <ul>
                    <li>查看序列埠監視器的詳細日誌</li>
                    <li>檢查前端系統的設備狀態</li>
                    <li>參考本說明書的故障排除章節</li>
                    <li>確認硬體連接和配置正確</li>
                </ul>
                
                <div class="success">
                    <strong>✅ 祝您使用愉快！</strong>如有其他問題，請聯繫技術支援團隊。
                </div>
            </div>
        </div>
    </div>
</body>
</html>
